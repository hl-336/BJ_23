day 03 homework

一、基础题
1.abc
2.abc
3.b
4.abcd
5.abcd
6.ad
7.ab

1.如何实现输入悬停到下面所描述元素对象上？
action.move_to_element(driver.find_element_by_id("testA"))

二、代码题
# 导包
import time
from selenium import webdriver
from selenium.webdriver import ActionChains

# 1.打开tpshop,设置窗口最大化和隐式等待
driver = webdriver.Chrome()
driver.get("http://tpshop-test.itheima.net/")
driver.maximize_window()
driver.implicitly_wait(10)
time.sleep(2)
# 2.登陆tpshop网站
driver.find_element_by_link_text("登录").click()
driver.find_element_by_name("username").send_keys("13800000001")
driver.find_element_by_name("password").send_keys("123456")
driver.find_element_by_name("verify_code").send_keys("8888")
driver.find_element_by_name("sbtbutton").click()
time.sleep(2)
# 3.在会员首页点击返回商城首页
driver.find_element_by_link_text("返回商城首页").click()
# 4.输入搜索条件小米
driver.find_element_by_id("q").send_keys("小米")
driver.find_element_by_xpath("//button [@class='ecsc-search-button']").click()
# 5.点击第一个搜索到商品接口对应加入购物车
driver.find_element_by_link_text("加入购物车").click()
# 6.在商品详情页面点击加入购物车
driver.find_element_by_css_selector("#join_cart").click()
time.sleep(3)
# 7.刷新界面
action = ActionChains(driver)
driver.refresh()
action.perform()
# 8.获取界面上购物车的商品总件数和总价,如下图。如购物车没有商品则打印图2中的元素文本信息
try:
    action.move_to_element(driver.find_element_by_class_name('c-n')).perform()
    price_element = driver.find_elements_by_id("total_qty")
    total_element = driver.find_elements_by_id("total_pay")
    for i in range(len(price_element)):
        print('商品数量是', price_element[i].text, '商品总价是', total_element[i].text)
except:
    print("购物车中没有商品")
# 9.等待5s,点击去购物车结算
driver.implicitly_wait(5)
driver.find_element_by_class_name('c-btn').click()
# 10.判断购物车页面商品勾选按钮是否选中
print("购物车页面商品是勾选上：True ==?", driver.find_element_by_class_name("checkCartAll").is_selected())
# 11.打印出商品单价、购买价、数量、小计金额
price = driver.find_element_by_css_selector('[id$="goods_price"]').text
print("商品单价：", price)
print("商品购买价：", driver.find_element_by_css_selector('[id$="member_goods_price"]').text)
print("数量：", driver.find_element_by_css_selector('[id*="changeQuantity_"]').get_attribute("value"))
print("小计金额：", driver.find_element_by_css_selector('[id*="market_price"]').text)
# 12.写个判断:判断单价信息是否大于5000块
print('价格为', price[1:5])

if int(price[1:5]) > 5000:
    print('黑店，不买了')
    driver.find_element_by_class_name('deleteGoods')
    driver.quit()
# # 如大于则打印"黑店,不买了",并删除购物车的该商品,关闭浏览器
else:
    print('勉勉强强，用吧！不过暂时没钱')
    driver.quit()


